(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5300:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),r(8191),r(1163),r(2874);var s=r(7105),a=r(5265),i=r(157),n=r.n(i),o=r(4665),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8191)),"E:\\Work\\alex\\notion-assistant-alexa-skill\\web-login\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,1163)),"E:\\Work\\alex\\notion-assistant-alexa-skill\\web-login\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,2874,23)),"next/dist/client/components/not-found-error"]}],c=["E:\\Work\\alex\\notion-assistant-alexa-skill\\web-login\\app\\page.tsx"],u="/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},85:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3817,23)),Promise.resolve().then(r.t.bind(r,9323,23)),Promise.resolve().then(r.t.bind(r,2204,23)),Promise.resolve().then(r.t.bind(r,820,23)),Promise.resolve().then(r.t.bind(r,5915,23)),Promise.resolve().then(r.t.bind(r,1611,23))},7046:()=>{},671:(e,t,r)=>{Promise.resolve().then(r.bind(r,226))},226:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(9899),a=r(5507),i=r(4977),n=r.n(i);function o(){let[e,t]=(0,a.useState)(""),[r,i]=(0,a.useState)(""),[o,l]=(0,a.useState)(!1),[d,c]=(0,a.useState)(""),[u,p]=(0,a.useState)(!1),m=async t=>{t.preventDefault(),l(!0),c(""),p(!1);try{let t=await fetch("/api/validate-license",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,licenseKey:r})});if(!t.ok){let e=await t.json();throw Error(e.error||"License validation failed")}let s=await fetch("/api/oauth/initiate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,licenseKey:r})});if(!s.ok){let e=await s.json();throw Error(e.error||"OAuth initiation failed")}let{authUrl:a}=await s.json();window.location.href=a}catch(e){c(e.message||"An error occurred. Please try again."),l(!1)}};return s.jsx("div",{className:n().container,children:(0,s.jsxs)("div",{className:n().card,children:[s.jsx("h1",{className:n().title,children:"Notion Data"}),s.jsx("p",{className:n().subtitle,children:"Link your Notion account to get started"}),u?s.jsx("div",{className:n().success,children:s.jsx("p",{children:"Account linked successfully! You can now use the Alexa skill."})}):(0,s.jsxs)("form",{onSubmit:m,className:n().form,children:[(0,s.jsxs)("div",{className:n().formGroup,children:[s.jsx("label",{htmlFor:"email",children:"Email Address"}),s.jsx("input",{id:"email",type:"email",value:e,onChange:e=>t(e.target.value),required:!0,placeholder:"your@email.com",disabled:o})]}),(0,s.jsxs)("div",{className:n().formGroup,children:[s.jsx("label",{htmlFor:"licenseKey",children:"License Key"}),s.jsx("input",{id:"licenseKey",type:"text",value:r,onChange:e=>i(e.target.value),required:!0,placeholder:"Enter your license key",disabled:o})]}),d&&s.jsx("div",{className:n().error,children:d}),s.jsx("button",{type:"submit",className:n().button,disabled:o,children:o?"Processing...":"Link Notion Account"})]}),s.jsx("div",{className:n().footer,children:s.jsx("p",{children:"Need help? Contact support"})})]})})}},4977:e=>{e.exports={container:"page_container__jZF7q",card:"page_card__Cf__u",title:"page_title__po7na",subtitle:"page_subtitle__YBgxm",form:"page_form__NxPAx",formGroup:"page_formGroup__SWXkg",button:"page_button__52WaL",error:"page_error__JBrsB",success:"page_success__r1r7Y",footer:"page_footer__F3MD0"}},1163:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,metadata:()=>a});var s=r(5023);r(642);let a={title:"Notion Data - Account Linking",description:"Link your Notion account to Alexa Skill"};function i({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{children:e})})}},8191:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(2772).createProxy)(String.raw`E:\Work\alex\notion-assistant-alexa-skill\web-login\app\page.tsx#default`)},642:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[942,371],()=>r(5300));module.exports=s})();