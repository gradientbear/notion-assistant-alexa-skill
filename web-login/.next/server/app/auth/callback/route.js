"use strict";(()=>{var e={};e.id=936,e.ids=[936],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5772:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>b,patchFetch:()=>_,requestAsyncStorage:()=>p,routeModule:()=>d,serverHooks:()=>m,staticGenerationAsyncStorage:()=>h});var a={};t.r(a),t.d(a,{GET:()=>u,dynamic:()=>c});var o=t(3277),s=t(5265),i=t(5356),n=t(7076),l=t(1570);let c="force-dynamic";async function u(e){let r=new URL(e.url).searchParams.get("code"),t=(0,l.l)();if(r){let{data:a,error:o}=await t.auth.exchangeCodeForSession(r);if(o)return console.error("Error exchanging code for session:",o),n.NextResponse.redirect(new URL("/?error=Authentication failed",e.url));if(a.user)try{let e=(0,l.l)(),{data:r}=await e.from("users").select("*").eq("auth_user_id",a.user.id).maybeSingle();if(!r){let{error:r}=await e.from("users").insert({auth_user_id:a.user.id,email:a.user.email||"",provider:a.user.app_metadata?.provider||"email",email_verified:a.user.app_metadata?.provider!=="email",license_key:"",notion_setup_complete:!1,onboarding_complete:!1});r&&console.error("Error creating user:",r)}}catch(e){console.error("Error syncing user:",e)}}return n.NextResponse.redirect(new URL("/dashboard",e.url))}let d=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/auth/callback/route",pathname:"/auth/callback",filename:"route",bundlePath:"app/auth/callback/route"},resolvedPagePath:"E:\\Work\\alex\\notion-assistant-alexa-skill\\web-login\\app\\auth\\callback\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:p,staticGenerationAsyncStorage:h,serverHooks:m}=d,b="/auth/callback/route";function _(){return(0,i.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:h})}},1570:(e,r,t)=>{t.d(r,{l:()=>i});var a=t(2851);let o="https://ptasyynqqlvrbhqmtvhl.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0YXN5eW5xcWx2cmJocW10dmhsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM4NzYwODYsImV4cCI6MjA3OTQ1MjA4Nn0.di3Mk3cndlDzjWwUoXcB8DDslyJO-lbsIHtwRKaWCZI";if(!o||!s)throw Error("Missing Supabase environment variables. Please set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY. For local development, create a .env.local file. For production (Vercel), add them in your project settings.");if(o.includes("supabase.com/dashboard")||o.includes("dashboard/project"))throw Error(`❌ Invalid Supabase URL format!
  
Your NEXT_PUBLIC_SUPABASE_URL is set to: ${o}

This looks like a dashboard URL. It should be the API URL instead.

Correct format: https://[project-ref].supabase.co
Example: https://ptasyynqqlvrbhqmtvhl.supabase.co

To fix:
1. Go to Supabase Dashboard → Settings → API
2. Copy the "Project URL" (not the dashboard URL)
3. Update NEXT_PUBLIC_SUPABASE_URL in Vercel
4. Redeploy your application`);function i(){let e=process.env.SUPABASE_SERVICE_KEY||"",r="https://ptasyynqqlvrbhqmtvhl.supabase.co";if(!e||!r)throw Error("Missing SUPABASE_SERVICE_KEY or NEXT_PUBLIC_SUPABASE_URL");return(0,a.eI)(r,e)}(0,a.eI)(o,s)}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[942,786,851],()=>t(5772));module.exports=a})();