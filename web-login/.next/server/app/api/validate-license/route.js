"use strict";(()=>{var e={};e.id=5,e.ids=[5],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5105:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>x,patchFetch:()=>m,requestAsyncStorage:()=>c,routeModule:()=>p,serverHooks:()=>v,staticGenerationAsyncStorage:()=>d});var s={};r.r(s),r.d(s,{POST:()=>u});var a=r(3277),n=r(5265),i=r(5356),o=r(7076),l=r(2851);async function u(e){try{let t="https://mwvurelnhrcbtpjtsiyb.supabase.co",r=process.env.SUPABASE_SERVICE_KEY||"";if(!t||!r)return o.NextResponse.json({error:"Missing Supabase environment variables"},{status:500});let s=(0,l.createClient)(t,r),{email:a,licenseKey:n}=await e.json();if(!a||!n)return o.NextResponse.json({error:"Email and license key are required"},{status:400});let{data:i,error:u}=await s.from("licenses").select("status").eq("license_key",n).single();if(u||!i||"active"!==i.status)return o.NextResponse.json({error:"Invalid or inactive license key"},{status:401});return o.NextResponse.json({valid:!0})}catch(e){return console.error("License validation error:",e),o.NextResponse.json({error:"Internal server error"},{status:500})}}let p=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/validate-license/route",pathname:"/api/validate-license",filename:"route",bundlePath:"app/api/validate-license/route"},resolvedPagePath:"E:\\Work\\alex\\notion-assistant-alexa-skill\\web-login\\app\\api\\validate-license\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:c,staticGenerationAsyncStorage:d,serverHooks:v}=p,x="/api/validate-license/route";function m(){return(0,i.patchFetch)({serverHooks:v,staticGenerationAsyncStorage:d})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[942,786,851],()=>r(5105));module.exports=s})();